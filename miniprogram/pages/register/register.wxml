<!--miniprogram/pages/register/register.wxml-->
<view class="page">

  <view class="header">
    <image style="width: 200rpx; height: 200rpx; background-color: #eeeeee; border-radius: 50%;" mode="aspectFill" src="{{avatarUrl}}"></image>
  </view>

  <mp-dialog title="请授权" show="{{dialogShow}}" bindbuttontap="tapDialogButton" buttons="{{[{text: '取消'}, {text: '确认'}]}}">
    <view>我们需要验证您的信息</view>
  </mp-dialog>

  <mp-toptips msg="{{error}}" type="error" show="{{error}}"></mp-toptips>

  <mp-form id="form" rules="{{rules}}" models="{{formData}}">
    <view class="page" xmlns:wx="http://www.w3.org/1999/xhtml">
      <mp-cells title="资料" footer="只会保留最后一次提交的资料">
        <mp-cell wx:for="{{viewData}}" prop="{{item.key}}" title="{{item.title}}">
          <input bindinput="formInputChange" 
          data-field="{{item.key}}" 
          class="weui-input" 
          placeholder="{{item.placeholder}}"
          show-error="{{item.showError}}"/>
        </mp-cell>
      </mp-cells>
      
    </view>
  </mp-form>

  <view class="weui-btn-area">
    <button class="weui-btn" type="primary" bindtap="commit">提交</button>
  </view>

</view>